<template>
  <div class="markdown-guide">
    <div class="content">
      <h1><IconApp style="width: 60px" /> Alexandrie Markdown Syntax Guide</h1>
      <p style="margin: 0">This guide shows you how to use Alexandrie’s extended Markdown features to create expressive and organized notes.</p>

      <!-- BASIC FORMATTING -->
      <h2><Icon name="edit" fill="var(--primary)" /> Basic Formatting</h2>
      <ul>
        <li><strong>Bold</strong>: <code>**bold**</code> or <code>__bold__</code></li>
        <li><em>Italic</em>: <code>*italic*</code> or <code>_italic_</code></li>
        <li><u>Underline</u>: <code>_underline_</code></li>
        <li><del>Strikethrough</del>: <code>~~strikethrough~~</code></li>
        <li><mark>Highlight</mark>: <code>==highlight==</code></li>
      </ul>

      <!-- TAGS -->
      <p>
        <strong>Tags: </strong> <tag blue>Blue</tag> <tag green>Green</tag> <tag red>Red</tag> <tag yellow>Yellow</tag> <tag grey>Grey</tag> <tag teal>Teal</tag
        ><br />
        Syntax: <code v-text="`<tag 'color'>Content</tag>`"></code> — example: <code v-text="`<tag blue>Blue</tag>`"></code>
      </p>

      <!-- COLORS -->
      <p>
        <strong>Colors: </strong>
        <strong>
          <span style="color: var(--blue)">blue</span> ; <span style="color: var(--red)">red</span> ; <span style="color: var(--green)">green</span> ;
          <span style="color: var(--yellow)">yellow</span> ; <span style="color: var(--primary)">primary</span> ;
          <span style="color: var(--purple)">purple</span> ; <span style="color: var(--pink)">pink</span> ;
          <span style="color: var(--teal)">teal</span> </strong
        ><br />
        Syntax: <code v-text="`{color:'color'}(Text to color)`"></code> — example: <code v-text="`{color:blue}(blue)`"></code>
      </p>

      <p>
        <strong>Titles:</strong>
        Syntax: <code v-text="`# H1`"></code> → <code v-text="`###### H6`"></code>
      </p>

      <p>
        <strong>Links & Images:</strong>
        Use <code>[links](https://example.com)</code> and <code>![images](image.png)</code>.
      </p>

      <!-- COLORED BLOCKS -->
      <h2><Icon name="layers" fill="var(--primary)" /> Colored Blocks</h2>
      <p>Use colored blocks with the syntax <code>:::color TITLE</code>.</p>
      <div class="block-grid">
        <div class="custom-block blue">
          <p class="custom-block-title">INFO</p>
          <pre>:::blue INFO<br />:::</pre>
        </div>
        <div class="custom-block green">
          <p class="custom-block-title">SUCCESS</p>
          <pre>:::green SUCCESS<br />:::</pre>
        </div>
        <div class="custom-block yellow">
          <p class="custom-block-title">WARNING</p>
          <pre>:::yellow WARNING<br />:::</pre>
        </div>
        <div class="custom-block red">
          <p class="custom-block-title">DANGER</p>
          <pre>:::red DANGER<br />:::</pre>
        </div>
        <div class="custom-block grey">
          <p class="custom-block-title">NOTE</p>
          <pre>:::grey NOTE<br />:::</pre>
        </div>
        <div class="custom-block teal">
          <p class="custom-block-title">NOTE</p>
          <pre>:::teal NOTE<br />:::</pre>
        </div>
      </div>

      <!-- ADVANCED BLOCKS -->
      <h2><Icon name="layers" fill="var(--primary)" /> Advanced Blocks</h2>
      <p>Use info blocks with the syntax <code>:::name TITLE Content :::</code>.</p>

      <div class="block-grid">
        <div class="markdown-container">
          <strong class="red title"><Icon name="info" color="red" /> INFO Red</strong>
          <div class="markdown-container-content">
            <code>:::info-red Title<br />Content<br />:::</code>
          </div>
        </div>

        <div class="markdown-container">
          <strong class="teal title"><Icon name="info" color="teal" /> INFO Teal</strong>
          <div class="markdown-container-content">
            <code>:::info-teal Title<br />Content<br />:::</code>
          </div>
        </div>

        <div class="markdown-container">
          <strong class="blue title"><Icon name="info" color="blue" /> INFO Blue</strong>
          <div class="markdown-container-content">
            <code>:::info-blue Title<br />Content<br />:::</code>
          </div>
        </div>
      </div>

      <hr style="margin: 8px" />

      <!-- LAYOUT BLOCKS -->
      <div class="demo">
        <pre>:::center<br />This text is centered!<br />:::</pre>
        <div class="center">This text is centered!</div>
      </div>

      <div class="demo">
        <pre>::::columns<br />:::column<br />Column left<br />:::<br />:::column<br />Column right<br />::::</pre>
        <div class="columns">
          <div class="column">Column left</div>
          <div class="column">Column right</div>
        </div>
      </div>

      <div class="demo">
        <pre>:::no-print<br />This content will not appear in PDF exports.<br />:::</pre>
        <p>This content will not appear in PDF exports.</p>
      </div>

      <div class="demo">
        <pre>:::details<br />Click to reveal hidden content.<br />:::</pre>
        <details class="details custom-block no-print">
          <summary>Details</summary>
          <p>Click to reveal hidden content.</p>
        </details>
      </div>

      <!-- MATH -->
      <h2><Icon name="maths" fill="var(--primary)" /> Math Syntax</h2>
      <p>Use KaTeX for math expressions: <code>$...$</code> (inline) or <code>$$...$$</code> (block).</p>
      <div class="demo">
        <pre>$\int_{-\infty}^{+\infty} e^{-x^2} dx = \sqrt{\pi}$</pre>
        <p v-html="compile('$$\\int_{-\\infty}^{+\\infty} e^{-x^2} dx = \\sqrt{\\pi}$$')"></p>
      </div>

      <!-- EXTENDED SYNTAX -->
      <h2><Icon name="import" fill="var(--primary)" /> Extended Syntax</h2>
      <ul>
        <li><strong>Code blocks:</strong> <code>```language ... ```</code></li>
        <li><strong>Blockquotes:</strong> <code>> Quoted text</code></li>
        <li><strong>Horizontal rule:</strong> <code>---</code> or <code>***</code></li>
        <li><strong>Lists:</strong> <code>- item</code> or <code>1. item</code></li>
        <li><strong>Nested lists:</strong> indent with two spaces</li>
        <li><strong>Task lists:</strong> <code>- [ ] Todo</code>, <code>- [x] Done</code></li>
        <li>
          <strong>Tables:</strong><br />
          <pre style="padding: 0.75rem; border-radius: 6px; color: white; overflow-x: auto; margin: 10px 0">
| Column 1 | Column 2 |
|-----------|-----------|
| Cell 1    | Cell 2    |</pre
          >
        </li>
        <li><strong>Footnotes:</strong> <code>Text[^1]</code> with <code>[^1]: footnote text</code></li>
        <li><strong>Inline HTML:</strong> <code>&lt;span style="color:red"&gt;text&lt;/span&gt;</code></li>
      </ul>
    </div>
  </div>
</template>

<script setup lang="ts">
import compile from '~/helpers/markdown';
</script>

<style scoped lang="scss">
.markdown-guide {
  line-height: 1.7;
  margin: auto;
}
.content {
  margin: 1rem 0.5rem;
}
h1 {
  display: flex;
  align-items: center;
  margin: 0;
}
h2 {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 2rem;
  font-size: 1.3rem;
  color: var(--primary);
}
code {
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.8rem;
}
.demo {
  display: flex;
  width: 100%;
  flex-wrap: wrap;
  gap: 1rem;
  margin-bottom: 1rem;
  pre {
    padding: 0.75rem;
    border-radius: 6px;
    color: white;
    overflow-x: auto;
    margin: 10px 0;
  }
  * {
    flex: 1;
  }
}
.custom-block pre {
  background: rgba(255, 255, 255, 0.3);
  margin-top: 0.5rem;
  padding: 0.5rem;
  border-radius: 6px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.85rem;
}
.block-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
}
.external-link {
  color: var(--primary);
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

@media screen and (max-width: 800px) {
  .block-grid {
    grid-template-columns: 1fr;
  }
  .demo {
    flex-direction: column;
  }
}
</style>
