# ==============================================================================
# ALEXANDRIE - ADVANCED ENVIRONMENT CONFIGURATION
# ==============================================================================
# This file contains all available configuration options for Alexandrie, including advanced and optional features.
# For a simpler configuration, please refer to the ".env.example" file which contains only the essential variables.
# Note: This variables will only wotk with the docker-compose.yml file. If you want to use the application without Docker, please refer the frontend/.env and backend/.env files for the required variables.

## 1. PUBLIC ACCESS & GLOBAL URLS

# Public URLs used by the client's browser to reach the services.
FRONTEND_URL=http://localhost:8200
API_URL=http://localhost:8201
CDN_URL=http://localhost:9005

CDN_ENDPOINT=/alexandrie/											# The base path in the CDN where files are served from (you probably want to keep this as /alexandrie/ to match the bucket name, change it only if you changed the bucket name or if you have configured a reverse proxy path)


# 2. APPLICATION FEATURE FLAGS - Enable or disable optional frontend features.

CONFIG_DISABLE_LANDING=false									# Disable the landing page if set to true
CONFIG_DISABLE_SIGNUP=false										# Disable the signup page if set to true
CONFIG_DISABLE_NATIVE_LOGIN=false							# Disable native username/password login if set to true (useful if you only want OAuth providers)


# 3. BACKEND API — RUNTIME & SECURITY

CONFIG_PATH= 																 	 # Optional path to a custom TOML configuration file. Structure can be found in backend/config.toml.
BACKEND_EXTERNAL_PORT=8201										 # The port exposed on your host machine for the Backend API

COOKIE_DOMAIN=localhost:8200									 # Common domain for cookies (e.g., yourdomain.com if you have frontend.yourdomain.com and api.yourdomain.com)
ALLOW_UNSECURE=true														 # true = HTTP allowed (local dev / local machine), false = HTTPS only
JWT_SECRET=your-secure-jwt										 # Change this in production to a secure random string, used to sign JWT tokens for authentication

# OIDC (OpenID Connect) Configuration - Optional, only required if you want to enable OIDC authentication (e.g., Google, Keycloak, etc.). Replace {i} with a number between 1 to 9
#OIDC_{i}_CONFIG_URL	= 											 # The URL to fetch the OIDC provider's configuration (e.g., https://accounts.google.com/.well-known/openid-configuration)
#OIDC_{i}_CLIENT_ID	= 											   # The Client ID obtained from the OIDC provider for your application
#OIDC_{i}_CLIENT_SECRET= 											 # The Client Secret obtained from the OIDC provider for your application
#OIDC_{i}_PROVIDER_NAME= 											 # A friendly name for the OIDC provider (e.g., "Google", "Keycloak", etc.) used in the frontend for login options

# 4. DATABASE — MYSQL

MYSQL_EXTERNAL_PORT=3307											 # The port exposed on your host machine for the MySQL database
MYSQL_DATABASE=alexandrie 										 # The name of the MySQL database to use for Alexandrie

# Access credentials
MYSQL_USER=alexandrie 												 # MySQL username
MYSQL_PASSWORD=password												 # MySQL password for the above user
MYSQL_ROOT_PASSWORD=rootpassword 					 		 # MySQL root password (used for initial setup, not used by the application)


# 5. OBJECT STORAGE — S3 (RustFS / MinIO-compatible) (optional, leave empty to disable)

RUSTFS_EXTERNAL_PORT=9005 										 # The port exposed on your host machine for the S3-compatible Object Storage (RustFS / MinIO)
# Access credentials
RUSTFS_ACCESS_KEY=alexandrie-key
RUSTFS_SECRET_KEY=alexandrie-secret

MINIO_BUCKET=alexandrie 											 # The default bucket used by the application (must match the bucket created in RustFS/MinIO)
MINIO_CA_PATH= 															   # Optional path to CA certificate if using a self-signed certificate for RustFS/MinIO (leave empty if not applicable)
MINIO_INSECURE_TLS=true 											 # Set to true to allow insecure TLS connections to RustFS/MinIO (e.g., for local development with self-signed certs, not recommended for production)

# Runtime options
RUSTFS_CONSOLE_ENABLE=false 									 # Set to true to enable the RustFS web console (not recommended for production)
RUSTFS_LOG_LEVEL=error	  										 # Log level for RustFS (debug | info | warn | error)


# 6. EMAIL — SMTP - Required only for password reset only. (optional, leave empty to disable)

SMTP_HOST= 																		 # The hostname of your SMTP server (e.g., smtp.ionos.fr)
SMTP_MAIL= 																		 # The email address used as the sender for password reset emails 
SMTP_PASSWORD= 																 # The password for the above email address (or an app-specific password if using Gmail with 2FA enabled)


# 7. FRONTEND — NUXT

FRONTEND_EXTERNAL_PORT=8200 									 # The port exposed on your host machine for the Frontend service